---
import BaseLayout from "../layouts/BaseLayout.astro";
import HeadSEO from "../components/public-components/HeadSEO.astro";
import MindMapDisplay from "../components/mind-map/MindMapDisplay.astro";
import {
  MIND_MAP_CONFIG,
  MindMapUtils,
} from "../components/mind-map/mind-map-config";

// Page metadata
const title = "Mind Map - GoRakuDo";
const description =
  "Interactive mind map for Japanese immersion learning. Simple, text-editor based configuration system.";

// Validate mind map configuration
const validation = MindMapUtils.validate();
---

<BaseLayout title={title} description={description} lang="id">
  <HeadSEO
    title={title}
    description={description}
    pageType="website"
    lang="id"
    aiPageType="home"
    enableAIOptimizations={true}
  />

  <div class="mind-map-page">
    <!-- Page Header -->
    <header class="page-header">
      <div class="header-content">
        <h1 class="page-title">
          <span class="title-icon">üß†</span>
          Mind Map Pembelajaran
        </h1>
        <p class="page-description">
          Peta pikiran pembelajaran bahasa Jepang yang sederhana dan mudah
          dikustomisasi
        </p>
        <div class="page-subtitle">
          <span class="subtitle-badge">üìù Text-Editor Based</span>
          <span class="subtitle-badge">‚ö° Simple Configuration</span>
          <span class="subtitle-badge">üé® Easy Customization</span>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Mind Map Display -->
      <section class="mind-map-section">
        <MindMapDisplay />
      </section>

      <!-- Quick Edit Guide -->
      <section class="quick-edit-section">
        <div class="section-header">
          <h2>üöÄ Quick Start Guide</h2>
          <p>Learn how to customize your mind map in minutes</p>
        </div>

        <div class="guide-grid">
          <div class="guide-card">
            <div class="guide-icon">üìÅ</div>
            <h3>1. Open Configuration File</h3>
            <p>
              Open <code>src/components/mind-map/mind-map-config.ts</code> in your
              favorite text editor (VSCode, Sublime, etc.)
            </p>
          </div>

          <div class="guide-card">
            <div class="guide-icon">‚úèÔ∏è</div>
            <h3>2. Edit Branch Properties</h3>
            <p>
              Modify names, descriptions, keywords, colors, and icons for each
              branch (A-E)
            </p>
          </div>

          <div class="guide-card">
            <div class="guide-icon">üîó</div>
            <h3>3. Update Connections</h3>
            <p>
              Add, remove, or modify connections between branches to reflect
              your learning structure
            </p>
          </div>

          <div class="guide-card">
            <div class="guide-icon">üíæ</div>
            <h3>4. Save & Rebuild</h3>
            <p>
              Save the file and rebuild your site. Changes appear automatically!
            </p>
          </div>
        </div>
      </section>

      <!-- Configuration Examples -->
      <section class="examples-section">
        <div class="section-header">
          <h2>üí° Configuration Examples</h2>
          <p>See how easy it is to customize your mind map</p>
        </div>

        <div class="examples-grid">
          <div class="example-card">
            <h3>Change Branch Color</h3>
            <pre><code>{`visual: {
  color: "#FF6B6B", // New color
  icon: "üé®",       // New icon
  gradient: "linear-gradient(135deg, #FF6B6B 0%, #FF5252 100%)"
}`}</code></pre>
          </div>

          <div class="example-card">
            <h3>Add New Keywords</h3>
            <pre><code>{`keywords: [
  "immersion", 
  "filosofi", 
  "teori", 
  "konsep", 
  "metodologi",
  "new-keyword"  // Add your keyword here
]`}</code></pre>
          </div>

          <div class="example-card">
            <h3>Modify Connections</h3>
            <pre><code>{`connections: [
  {
    from: "A",
    to: "B",
    type: "progression",
    description: "Your custom description"
  }
]`}</code></pre>
          </div>
        </div>
      </section>

      <!-- Benefits Section -->
      <section class="benefits-section">
        <div class="section-header">
          <h2>‚ú® Why This Approach?</h2>
          <p>Simple, powerful, and developer-friendly</p>
        </div>

        <div class="benefits-grid">
          <div class="benefit-card">
            <div class="benefit-icon">‚ö°</div>
            <h3>Fast & Lightweight</h3>
            <p>
              No complex JavaScript or heavy dependencies. Just simple
              configuration files.
            </p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîß</div>
            <h3>Developer Friendly</h3>
            <p>
              Edit with any text editor. Version control friendly. Easy to
              maintain.
            </p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üéØ</div>
            <h3>Focused Purpose</h3>
            <p>
              Designed specifically for mind map visualization without
              unnecessary complexity.
            </p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üì±</div>
            <h3>Responsive Design</h3>
            <p>Works perfectly on all devices with clean, modern styling.</p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üîí</div>
            <h3>Type Safe</h3>
            <p>
              Full TypeScript support with proper interfaces and validation.
            </p>
          </div>

          <div class="benefit-card">
            <div class="benefit-icon">üöÄ</div>
            <h3>Build Optimized</h3>
            <p>Static generation at build time for optimal performance.</p>
          </div>
        </div>
      </section>

      <!-- System Status -->
      {
        validation.isValid ? (
          <section class="status-section valid">
            <div class="status-content">
              <div class="status-icon">‚úÖ</div>
              <div class="status-text">
                <h3>Mind Map Configuration Valid</h3>
                <p>All branches and connections are properly configured.</p>
              </div>
            </div>
          </section>
        ) : (
          <section class="status-section invalid">
            <div class="status-content">
              <div class="status-icon">‚ö†Ô∏è</div>
              <div class="status-text">
                <h3>Configuration Issues Detected</h3>
                <p>Please check the configuration file for errors.</p>
              </div>
            </div>
          </section>
        )
      }
    </main>
  </div>
</BaseLayout>

<style>
  .mind-map-page {
    min-height: 100vh;
    background: var(--color-background);
    color: var(--color-text-primary);
  }

  .page-header {
    background: linear-gradient(
      135deg,
      var(--color-accent) 0%,
      var(--color-accent-dark) 100%
    );
    padding: 4rem 2rem;
    text-align: center;
  }

  .header-content {
    max-width: 800px;
    margin: 0 auto;
  }

  .page-title {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    font-size: 3rem;
    font-weight: 700;
    margin-bottom: 1rem;
    color: white;
  }

  .title-icon {
    font-size: 3.5rem;
  }

  .page-description {
    font-size: 1.25rem;
    color: rgba(255, 255, 255, 0.9);
    line-height: 1.6;
    margin-bottom: 1.5rem;
  }

  .page-subtitle {
    display: flex;
    justify-content: center;
    gap: 1rem;
    flex-wrap: wrap;
  }

  .subtitle-badge {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    font-size: 0.875rem;
    font-weight: 500;
    backdrop-filter: blur(10px);
  }

  .main-content {
    max-width: 1400px;
    margin: 0 auto;
    padding: 2rem;
  }

  .mind-map-section {
    margin-bottom: 4rem;
  }

  .section-header {
    text-align: center;
    margin-bottom: 3rem;
  }

  .section-header h2 {
    font-size: 2.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
  }

  .section-header p {
    font-size: 1.125rem;
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  .quick-edit-section {
    margin-bottom: 4rem;
  }

  .guide-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 2rem;
  }

  .guide-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .guide-card:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-4px);
  }

  .guide-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  .guide-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
  }

  .guide-card p {
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  .guide-card code {
    background: rgba(255, 255, 255, 0.1);
    padding: 0.125rem 0.375rem;
    border-radius: var(--radius-sm);
    font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
    font-size: 0.875rem;
  }

  .examples-section {
    margin-bottom: 4rem;
  }

  .examples-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 2rem;
  }

  .example-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: 1.5rem;
  }

  .example-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
  }

  .example-card pre {
    background: rgba(0, 0, 0, 0.3);
    border-radius: var(--radius-md);
    padding: 1rem;
    overflow-x: auto;
    margin: 0;
  }

  .example-card code {
    font-family: "Monaco", "Menlo", "Ubuntu Mono", monospace;
    font-size: 0.875rem;
    color: #e5e7eb;
  }

  .benefits-section {
    margin-bottom: 4rem;
  }

  .benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
  }

  .benefit-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--radius-lg);
    padding: 2rem;
    text-align: center;
    transition: all 0.3s ease;
  }

  .benefit-card:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: translateY(-2px);
  }

  .benefit-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
  }

  .benefit-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--color-text-primary);
  }

  .benefit-card p {
    color: var(--color-text-secondary);
    line-height: 1.6;
  }

  .status-section {
    border-radius: var(--radius-lg);
    padding: 2rem;
    margin-bottom: 2rem;
  }

  .status-section.valid {
    background: rgba(16, 185, 129, 0.1);
    border: 1px solid rgba(16, 185, 129, 0.3);
  }

  .status-section.invalid {
    background: rgba(239, 68, 68, 0.1);
    border: 1px solid rgba(239, 68, 68, 0.3);
  }

  .status-content {
    display: flex;
    align-items: center;
    gap: 1rem;
    max-width: 600px;
    margin: 0 auto;
  }

  .status-icon {
    font-size: 2rem;
    flex-shrink: 0;
  }

  .status-text h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: var(--color-text-primary);
  }

  .status-text p {
    color: var(--color-text-secondary);
    margin: 0;
  }

  @media (max-width: 768px) {
    .page-header {
      padding: 2rem 1rem;
    }

    .page-title {
      font-size: 2rem;
      flex-direction: column;
      gap: 0.5rem;
    }

    .title-icon {
      font-size: 2.5rem;
    }

    .page-description {
      font-size: 1rem;
    }

    .page-subtitle {
      flex-direction: column;
      align-items: center;
    }

    .main-content {
      padding: 1rem;
    }

    .section-header h2 {
      font-size: 2rem;
    }

    .guide-grid,
    .examples-grid,
    .benefits-grid {
      grid-template-columns: 1fr;
    }

    .status-content {
      flex-direction: column;
      text-align: center;
    }
  }
</style>
